set $font "Bitstream Vera Sans Mono"

set $workspace1 "1: im"
set $workspace2 "2: mail"
set $workspace3 "3: www"
set $workspace4 "4: ♪"
set $workspace5 "5: www"
set $workspace6 "6: term"
set $workspace7 "7"
set $workspace8 "8"
set $workspace9 "9"
set $workspace10 "10: edi"

set $mod Mod4

font pango:$font 8

bindsym $mod+Return exec urxvt
bindcode $mod+Shift+24 kill

bindsym $mod+space exec rofi -show run

bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# 47 is the key to the right of L
bindcode $mod+47 split h
bindsym $mod+v split v

bindsym $mod+f fullscreen toggle

bindsym $mod+s layout stacking
bindcode $mod+25 layout tabbed
bindsym $mod+e layout toggle split

bindcode $mod+24 focus parent

# switch to workspace
bindcode $mod+10 workspace $workspace1
bindcode $mod+11 workspace $workspace2
bindcode $mod+12 workspace $workspace3
bindcode $mod+13 workspace $workspace4
bindcode $mod+17 workspace $workspace5
bindcode $mod+18 workspace $workspace6
bindcode $mod+19 workspace $workspace7
bindcode $mod+20 workspace $workspace8
bindcode $mod+21 workspace $workspace9
bindcode $mod+22 workspace $workspace10
bindcode $mod+49 workspace $workspace10

# move focused container to workspace
bindcode $mod+Shift+10 move container to workspace $workspace1
bindcode $mod+Shift+11 move container to workspace $workspace2
bindcode $mod+Shift+12 move container to workspace $workspace3
bindcode $mod+Shift+13 move container to workspace $workspace4
bindcode $mod+Shift+17 move container to workspace $workspace5
bindcode $mod+Shift+18 move container to workspace $workspace6
bindcode $mod+Shift+19 move container to workspace $workspace7
bindcode $mod+Shift+20 move container to workspace $workspace8
bindcode $mod+Shift+21 move container to workspace $workspace9
bindcode $mod+Shift+22 move container to workspace $workspace10
bindcode $mod+Shift+49 move container to workspace $workspace10

bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

mode "resize" {
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize shrink height 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

set $fg_color #FFFFFF
set $bg_color #262A2D
set $color1   #8A8A8A

bar {
  status_command i3blocks
  position top
  colors {
    separator $color1
    background $bg_color
    statusline $fg_color
    focused_workspace  $fg_color $fg_color $bg_color
    active_workspace   $fg_color $bg_color $fg_color
    inactive_workspace $fg_color $bg_color $fg_color
    urgent_workspace   $fg_color #FF0000   $000000
  }
}

# No windows titles
new_window 1pixel

#                       border    #bg       #text
client.focused          $bg_color $fg_color $bg_color
client.focused_inactive $fg_color $bg_color $fg_color
client.unfocused        $fg_color $bg_color $fg_color
client.urgent           #FF0000   $bg_color $fg_color

assign [class="^telegram$"] → $workspace1
assign [class="^Icedove$"] → $workspace2
assign [class="^Chromium$"] → $workspace5

gaps inner 10
gaps outer 0
smart_borders on

exec --no-startup-id compton
exec --no-startup-id nm-applet
exec --no-startup-id telegram
exec --no-startup-id icedove
exec --no-startup-id i3-msg 'workspace $workspace3; exec firefox; workspace $workspace1'
exec --no-startup-id i3-msg 'workspace $workspace1; exec urxvt -e weechat; workspace $workspace1'
exec --no-startup-id i3-msg 'workspace $workspace4; exec urxvt; workspace $workspace1'
exec --no-startup-id i3-msg 'workspace $workspace4; exec urxvt; workspace $workspace1'
exec --no-startup-id /usr/local/bin/autolockscreen
exec --no-startup-id unclutter
exec --no-startup-id pasystray

bindcode 107 exec take-screenshot
bindcode 121 exec "amixer set Master toggle; pkill -RTMIN+1 i3blocks"
bindcode 122 exec "amixer set Master 5%- unmute; pkill -RTMIN+1 i3blocks"
bindcode 123 exec "amixer set Master 5%+ unmute; pkill -RTMIN+1 i3blocks"
bindcode 160 exec i3lockscreen
bindcode 171 exec "cmus-remote -n; pkill -RTMIN+2 i3blocks"
bindcode 172 exec "cmus-remote -u; pkill -RTMIN+2 i3blocks"
bindcode 173 exec "cmus-remote -r; pkill -RTMIN+2 i3blocks"
bindcode 198 exec "amixer set Capture toggle"

# Hidden floating terminal
for_window [instance="floating-term"] floating enable;
for_window [instance="floating-term"] move scratchpad; [instance="floating-term"] scratchpad show; move position 200px 200px; resize grow height 50px; resize grow width 320px; move scratchpad
bindsym $mod+Shift+Return exec floatingterm urxvt

# Floating layout
floating_modifier $mod
bindsym $mod+Shift+f floating toggle
#bindsym $mod+space focus mode_toggle

exec --no-startup-id setxkbmap -layout us -variant intl -option ctrl:nocaps

bindsym $mod+Shift+bracketleft move workspace to output left
bindsym $mod+Shift+bracketright move workspace to output right

# Monitors configuration
exec --no-startup-id xrandr --newmode "2560x1080_50.00"  188.75  2560 2712 2976 3392  1080 1083 1093 1114 -hsync +vsync
exec --no-startup-id xrandr --addmode HDMI1 2560x1080_50.00
bindcode $mod+59 exec ~/.screenlayouts/1366x768.sh
bindcode $mod+60 exec ~/.screenlayouts/2160x1920.sh
bindcode $mod+61 exec ~/.screenlayouts/2560x1080.sh
